<pre>
<% join "\n\n", map {"$_;"} @sql %>
</pre>
% if (@sql) {
<table width="50%">
 <form action="execute_sync_sql<% Alzabo::Config::mason_extension() %>" method="post">
 <input type="hidden" name="schema" value="<% $s->name %>">
 <tr>
  <td>
   Username:
  </td>
  <td>
   <input type="text" name="user">
  </td>
 </tr>
 <tr>
  <td>
   Password:
  </td>
  <td>
   <input type="password" name="password">
  </td>
 </tr>
 <tr>
  <td>
   Host:
  </td>
  <td>
   <input type="text" name="host">
  </td>
 </tr>
 <tr>
  <td>
   Port:
  </td>
  <td>
   <input type="text" name="port">
  </td>
 </tr>
 <tr>
  <td colspan="2">
   <input type="submit" value="Execute SQL">
  </td>
 </tr>
</table>
% } else {
<p>
No SQL to display.  This probably means the schema has already been
instantiated and no changes have been made to it.
</p>

<p>
<a href="view_schema<% Alzabo::Config::mason_extension() %>?schema=<% $s->name | u %>">Back</a>
</p>
% }
<%args>
$s
$user => undef
$password => undef
$host => undef
$port => undef
</%args>
<%init>
my @sql;
eval
{
    @sql = $s->sync_backend_sql( user => $user,
				 password => $password,
				 host => $host,
				 port => $port,
			       );
};

$m->comp( '../common/exception', $@ ) if $@;

</%init>
