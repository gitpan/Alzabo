<%args>
$name
$username => undef
$password => undef
$driver
$rdbms
</%args>

<%init>

my $s;
eval
{
    $s = Alzabo::Create::Schema->reverse_engineer( name => $name,
						   driver => $driver,
						   rules => $rdbms,
						   user => $username,
						   password => $password,
						 );

    $s->save_to_file;
};

$m->comp( &Alzabo::Config::mason_url_path . '/common/exception', $@ ) if $@;

$m->comp( &Alzabo::Config::mason_url_path . '/common/redirect', url => 'view_schema' . Alzabo::Config::mason_extension() . '?schema=' . $s->name );

</%init>