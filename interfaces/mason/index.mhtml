% if (@s) {
<table width="100%" cellspacing="5">
 <tr>
  <td><h2>Use an existing schema</h2></td>
 </tr>
%   foreach my $s (sort @s) {
 <tr>
  <td>
<& '../common/href', text => $s, path => 'view_schema' . Alzabo::Config::mason_extension(), query => { schema => $s } &>
  </td>
 </tr>
%   }
</table>
% }

<table width="100%" cellspacing="5">
<form action="new_schema<% Alzabo::Config::mason_extension() %>" method="get">

 <tr>
  <td colspan="2"><h2>Create a new schema</h2></td>
 </tr>

 <tr>
  <td><b>Schema name:</b></td>
  <td><input type="textfield" name="name" size="20"></td>
 </tr>

 <tr>
  <td><b>RDBMS:</b></td>
  <td>
   <select name="rdbms">
% foreach my $r (sort Alzabo::RDBMSRules->available) {
   <option value="<% $r %>"><% $r %></option>
% }
   </select>
  </td>
 </tr>

 <tr>
  <td colspan="2"><input type="submit" value="Submit"></td>
 </tr>

</form>

<form action="reverse_engineer<% Alzabo::Config::mason_extension() %>" method="POST">

 <tr>
  <td colspan="2"><h2>Reverse engineer schema</h2></td>
 </tr>

 <tr>
  <td><b>Database name:</b></td>
  <td><input type="textfield" name="name" size="20"></td>
 </tr>

 <tr>
  <td><b>Username:</b></td>
  <td><input type="textfield" name="username" size="20"></td>
 </tr>

 <tr>
  <td><b>Password:</b></td>
  <td><input type="password" name="password" size="20"></td>
 </tr>

 <tr>
  <td><b>Host:</b></td>
  <td><input type="text" name="host" size="20"></td>
 </tr>

 <tr>
  <td><b>Port:</b></td>
  <td><input type="text" name="port" size="6"></td>
 </tr>

 <tr>
  <td><b>RDBMS:</b></td>
  <td>
   <select name="rdbms">
% foreach my $r (sort Alzabo::RDBMSRules->available) {
   <option value="<% $r %>"><% $r %></option>
% }
   </select>
  </td>
 </tr>

 <tr>
  <td colspan="2"><input type="submit" value="Submit"></td>
 </tr>

</form>

</table>

<%init>
use Alzabo::Config;

my @s = Alzabo::Config::available_schemas;
</%init>
