<%args>
$s
$t
$id
$start_row
$max_rows
$user => undef
$password => undef
$filter_from => undef
$filter_where => undef
</%args>

<%init>
my $row = $t->row_by_id(row_id => $id);

eval { $row->delete; };

$m->comp( &Alzabo::Config::mason_url_path . '/common/exception', $@ ) if $@;

my $url = $m->comp( Alzabo::Config::mason_url_path() . '/common/make_url',
		    path => 'browse_table' . Alzabo::Config::mason_extension(),
		    query => { schema => $s->name,
			       table => $t->name,
			       start_row => $start_row,
			       max_rows => $max_rows,
			       filter_from => $filter_from,
			       filter_where => $filter_where,
			       user => $user,
			       password => $password
			     } );

$m->comp( Alzabo::Config::mason_url_path() . '/common/redirect', 
	  url => $url );
</%init>
