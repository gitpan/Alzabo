<%args>
$s
$t
$id
$start_row
$max_rows
$user => undef
$password => undef
$host => undef
$port => undef
</%args>

<%init>
my $row = $t->row_by_id(row_id => $id);

eval { $row->delete; };

$m->comp( '../common/exception', $@ ) if $@;

my $url = $m->comp( '../common/make_url',
		    path => 'browse_table' . Alzabo::Config::mason_extension(),
		    query => { schema => $s->name,
			       table => $t->name,
			       start_row => $start_row,
			       max_rows => $max_rows,
			       user => $user,
			       password => $password,
			       host => $host,
			       port => $port,
			     } );

$m->comp( '../common/redirect',
	  url => $url );
</%init>
